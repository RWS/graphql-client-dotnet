query sitemap($namespaceId: Int!, $publicationId: Int!) {
  sitemap(namespaceId: $namespaceId, publicationId: $publicationId) {
    ...recurseItems
  }
}

fragment recurseItems on TaxonomySitemapItem {
  ...taxonomyItemFields
  items {
    ... on TaxonomySitemapItem {
      ...taxonomyItemFields
    }
    ... on PageSitemapItem {
      ...taxonomyPageFields
    }
  }
}

fragment taxonomyItemFields on TaxonomySitemapItem {
  id
  title
  originalTitle
  url
  type
  publishedDate
  visible
  description
  key
  abstract
  hasChildNodes
}

fragment taxonomyPageFields on PageSitemapItem {
  id
  title
  originalTitle
  url
  type
  publishedDate
  visible
}
